function result = generalObjectiveFunction(X)

% Collect global variables
global metric peak_force model_file baseline iteration

% Communicate with APO to apply correct torque pattern.

% Every 2s check for the existence of the trial data.

% Construct the OpenSimTrial.

% Run appropriate OpenSim analyses.

% If required, calculate the relative baseline for this trial. 

% Use OpenSimResults to compute & report metric data. 

end

